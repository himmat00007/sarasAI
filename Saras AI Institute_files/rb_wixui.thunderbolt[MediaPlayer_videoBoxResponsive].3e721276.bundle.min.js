!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@wix/image-kit"),require("react")):"function"==typeof define&&define.amd?define("rb_wixui.thunderbolt[MediaPlayer_videoBoxResponsive]",["imageClientApi","react"],t):"object"==typeof exports?exports["rb_wixui.thunderbolt[MediaPlayer_videoBoxResponsive]"]=t(require("@wix/image-kit"),require("react")):e["rb_wixui.thunderbolt[MediaPlayer_videoBoxResponsive]"]=t(e.__imageClientApi__,e.React)}("undefined"!=typeof self?self:this,(function(e,t){return function(){var n={67740:function(e,t){"use strict";t.G6=t.w1=void 0;t.w1=e=>!!e&&!!e.document&&!!e.document.documentMode;t.G6=e=>{const t=n(e);return t.indexOf("safari")>-1&&t.indexOf("version")>-1};const n=e=>e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent.toLowerCase():""},42662:function(t){"use strict";t.exports=e},5329:function(e){"use strict";e.exports=t},448:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var o=r[e]={exports:{}};return n[e](o,o.exports,a),o.exports}a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,{a:t}),t},a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var o={};return function(){"use strict";a.r(o),a.d(o,{components:function(){return Xe}});var e=a(448),t=a.n(e),n=a(5329),r=a.n(n);const i=13,s=27;function u(e){return t=>{t.keyCode===e&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.click())}}u(32),u(i),u(s);const c=function(e){var t;let{pressed:n,expanded:r,haspopup:a,label:o,live:i,relevant:s,current:u,owns:c,controls:d,roleDescription:l,hidden:m,disabled:f,describedBy:h,labelledBy:p,errorMessage:g,atomic:v,role:y,busy:E,...x}=void 0===e?{}:e;const b=null!=(t=x.tabIndex)?t:x.tabindex,w={};return o&&(w["aria-label"]=o),i&&(w["aria-live"]=i),u&&(w["aria-current"]=u),n&&(w["aria-pressed"]=n),"boolean"==typeof m&&(w["aria-hidden"]=m),"boolean"==typeof r&&(w["aria-expanded"]=r),"boolean"==typeof f&&(w["aria-disabled"]=f),"boolean"==typeof v&&(w["aria-atomic"]=v),"boolean"==typeof E&&(w["aria-busy"]=E),"string"==typeof s&&(w["aria-relevant"]=s),"string"==typeof c&&(w["aria-owns"]=c),"string"==typeof d&&(w["aria-controls"]=d),"string"==typeof l&&(w["aria-roledescription"]=l),a&&(w["aria-haspopup"]=a),"number"==typeof b&&(w.tabIndex=b),y&&(w.role=y),h&&(w["aria-describedby"]=h),p&&(w["aria-labelledby"]=p),g&&(w["aria-errormessage"]=g),w};function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var l=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r};const m="responsive-container-overflow",f="responsive-container-content";var h="d7EBK2";const p=r().forwardRef(((e,t)=>{let{children:n,className:a,isExperimentFixRoundBorderOn:o}=e;const i=o?[h]:[];return r().createElement("div",{className:l(a,...i),"data-testid":m,ref:t},n)})),g=(e,t)=>{let{containerLayoutClassName:a,overlowWrapperClassName:o,hasOverflow:i,hasScrollOverflow:s,shouldOmitWrapperLayers:u,children:d,role:m,label:h,extraRootClass:g="",ariaLive:v,ariaAttributes:y,tabIndex:E,isExperimentFixRoundBorderOn:x,tagName:b="div"}=e;const w=!u&&i,_=w?s?E||0:-1:void 0,R=(0,n.useCallback)((e=>w?r().createElement(p,{className:l(o,g),isExperimentFixRoundBorderOn:x},e):e),[w,o,g,x]),C=i?a:l(a,g),T={ref:t,"data-testid":f,tabIndex:_,...m?{role:m}:{},...h?{"aria-label":h}:{},...v?{"aria-live":v}:{},...c(y)};return"multi-column-layouter"===b?(T.class=C,T.style={visibility:"hidden"}):T.className=C,R(u?r().createElement(r().Fragment,null,d()):r().createElement(b||"div",T,d()))};var v=r().forwardRef(g);const y=()=>"undefined"!=typeof window;const E="wixui-",x=(...e)=>{console.warn("customCssClasses is deprecated, please use formatClassNames instead");const[t,...n]=e;return((e,...t)=>{const n=[];return e&&n.push(`${E}${e}`),t.forEach((e=>{e&&(n.push(`${E}${e}`),n.push(e))})),n.join(" ")})(t,...n)};var b="HlRz5e",w=a(42662);const{STATIC_MEDIA_URL:_}=w,R=({fittingType:e,src:t,target:n,options:r})=>{const a=w.getPlaceholder(e,t,n,{...r,autoEncode:!0});return a?.uri&&!/^[a-z]+:/.test(a.uri)&&(a.uri=`${_}${a.uri}`),a},C=/^[a-z]+:/;var T=e=>{const{id:t,containerId:r,uri:a,alt:o,name:i="",role:s,width:u,height:c,displayMode:d,devicePixelRatio:l,quality:m,alignType:f,bgEffectName:h="",focalPoint:p,upscaleMethod:g,className:v="",crop:y,imageStyles:E={},targetWidth:x,targetHeight:w,targetScale:T,onLoad:S=(()=>{}),onError:A=(()=>{}),shouldUseLQIP:I,containerWidth:P,containerHeight:M,getPlaceholder:L,isInFirstFold:N,placeholderTransition:D,socialAttrs:k,isSEOBot:O,skipMeasure:F,lazyLoadImgExperimentOpen:B,hasAnimation:V,allowWEBPTransform:$}=e,U=n.useRef(null);let j="";const K="blur"===D,W=n.useRef(null);if(!W.current)if(L||I||N||O){const e={upscaleMethod:g,...m||{},shouldLoadHQImage:N,isSEOBot:O,hasAnimation:V,allowWEBPTransform:$};W.current=(L||R)({fittingType:d,src:{id:a,width:u,height:c,crop:y,name:i,focalPoint:p},target:{width:P,height:M,alignment:f,htmlTag:"img"},options:e}),j=!W.current.transformed||N||O?"":"true"}else W.current={uri:void 0,css:{img:{}},attr:{img:{},container:{}},transformed:!1};const G=!O&&(L||I)&&!N&&W.current.transformed,H=n.useMemo((()=>JSON.stringify({containerId:r,...r&&{containerId:r},...f&&{alignType:f},...F&&{skipMeasure:!0},displayMode:d,...P&&{targetWidth:P},...M&&{targetHeight:M},...x&&{targetWidth:x},...w&&{targetHeight:w},...T&&{targetScale:T},isLQIP:G,isSEOBot:O,lqipTransition:D,imageData:{width:u,height:c,uri:a,name:i,displayMode:d,hasAnimation:V,...m&&{quality:m},...l&&{devicePixelRatio:l},...p&&{focalPoint:p},...y&&{crop:y},...g&&{upscaleMethod:g}}})),[r,f,F,d,M,P,x,w,T,G,O,D,u,c,a,i,m,l,p,y,g,V]),X=W.current,z=X?.uri,q=X?.srcset,Y=X.css?.img,J=`${b} ${v}`;n.useEffect((()=>{const e=U.current;S&&e?.currentSrc&&e?.complete&&S({target:e})}),[]);const Q=X&&!X?.transformed?`max(${u}px, 100%)`:x?`${x}px`:null;return n.createElement("wow-image",{id:t,class:J,"data-image-info":H,"data-bg-effect-name":h,"data-has-ssr-src":j,"data-animate-blur":!O&&G&&K?"":void 0,style:Q?{"--wix-img-max-width":Q}:{}},n.createElement("img",{src:z,ref:U,alt:o||"",role:s,style:{...Y,...E},onLoad:S,onError:A,...P&&{width:P},...M&&{height:M},...k,...N?{srcSet:q?.dpr?.map((e=>C.test(e)?e:`${_}${e}`)).join(", "),fetchpriority:"high"}:B?{loading:"lazy"}:{}}))};var S=e=>{var t,r,a;const{className:o,customIdPrefix:i,getPlaceholder:s,hasAnimation:u,allowWEBPTransform:c,...d}=e,l=n.useMemo((()=>JSON.stringify({containerId:d.containerId,alignType:d.alignType,fittingType:d.displayMode,hasAnimation:u,imageData:{width:d.width,height:d.height,uri:d.uri,name:d.name,...d.quality&&{quality:d.quality},displayMode:d.displayMode}})),[d,u]),m=n.useRef(null);m.current||(m.current=s?s({fittingType:d.displayMode,src:{id:d.uri,width:d.width,height:d.height,name:d.name},target:{width:d.containerWidth,height:d.containerHeight,alignment:d.alignType,htmlTag:"bg"},options:{hasAnimation:u,allowWEBPTransform:c}}):{uri:void 0,css:{img:{}},attr:{img:{},container:{}}});const f=m.current,h=null!=(t=null==f?void 0:f.uri)?t:"",p=null!=(r=null==(a=f.css)?void 0:a.container)?r:{},g=Object.assign(h?{backgroundImage:"url("+h+")"}:{},p);return n.createElement("wix-bg-image",{id:""+(i||"bgImg_")+d.containerId,class:o,style:g,"data-tiled-image-info":l,"data-has-bg-scroll-effect":d.hasBgScrollEffect||"","data-bg-effect-name":d.bgEffectName||""})};const A=new RegExp("<%= compId %>","g"),I=(e,t)=>e.replace(A,t);var P=e=>null==e?void 0:e.replace(":hover",""),M="bX9O_S",L="Z_wCwr",N="Jxk_UL",D="K8MSra",k="YTb3b4";const O={quality:{unsharpMask:{radius:.33,amount:1,threshold:0}},devicePixelRatio:1};var F=e=>{const{id:r,videoRef:a,videoInfo:o,posterImageInfo:i,muted:s,preload:u,loop:c,alt:d,isVideoEnabled:m,getPlaceholder:f,extraClassName:h=""}=e;o.containerId=P(o.containerId);const p=n.useMemo((()=>JSON.stringify(o)),[o]),g=n.createElement(n.Fragment,null,i.filterEffectSvgString&&n.createElement("svg",{id:"svg_"+o.containerId,className:k},n.createElement("defs",{dangerouslySetInnerHTML:{__html:I(i.filterEffectSvgString,o.containerId)}})),n.createElement(T,t()({key:o.videoId+"_img",id:i.containerId+"_img",className:l(L,N,"bgVideoposter",h),imageStyles:{width:"100%",height:"100%"}},i,O,{getPlaceholder:f})));return m?n.createElement("wix-video",{id:r,"data-video-info":p,class:l(M,"bgVideo",h)},n.createElement("video",{key:o.videoId+"_video",ref:a,id:o.containerId+"_video",className:D,crossOrigin:"anonymous","aria-label":d,playsInline:!0,preload:u,muted:s,loop:c,tabIndex:-1}),g):g},B="SUz0WK";var V=e=>{const{id:t,containerId:r,pageId:a,children:o,bgEffectName:i="",containerSize:s}=e;return n.createElement("wix-bg-media",{id:t,class:B,"data-container-id":r,"data-container-size":((null==s?void 0:s.width)||0)+", "+((null==s?void 0:s.height)||0),"data-page-id":a,"data-bg-effect-name":i,"data-motion-part":"BG_MEDIA"},o)};const $="bgOverlay";var U="m4khSP",j="FNxOn5";var K=e=>{const{imageOverlay:r}=e;return n.createElement("div",{"data-testid":$,className:U},r&&n.createElement(S,t()({customIdPrefix:"bgImgOverlay_",className:j},r)))};const W="bgLayers",G="colorUnderlay",H="mediaPadding",X="canvas";var z="MW5IWV",q="N3eg0s",Y="Kv1aVt",J="dLPlxY",Q="VgO9Yg",Z="LWbAav",ee="yK6aSC",te="K_YxMd",ne="NGjcJN",re="mNGsUM";const ae="bgImage";var oe=e=>{const{videoRef:r,canvasRef:a,hasBgFullscreenScrollEffect:o,image:i,backgroundImage:s,backgroundMedia:u,video:c,backgroundOverlay:d,shouldPadMedia:m,extraClass:f="",shouldRenderUnderlay:h=!c,reducedMotion:p=!1,getPlaceholder:g}=e,{onImageLoad:v}=(e=>{let{onReady:t,image:r}=e;return(0,n.useEffect)((()=>{t&&!r&&t()}),[t,r]),{onImageLoad:e=>{null!=r&&r.onLoad&&r.onLoad(e),t&&t()}}})(e),y=P(e.containerId),E="img_"+P(y),x=i&&n.createElement(T,t()({id:E,className:l(Y,J,re,ae),imageStyles:{width:"100%",height:"100%"},getPlaceholder:g},i,{onLoad:v})),b=s&&n.createElement(S,t()({},s,{containerId:y,className:l(Y,J,re,ae),getPlaceholder:g})),w=c&&n.createElement(F,t()({id:"videoContainer_"+y},c,{extraClassName:ee,reducedMotion:p,videoRef:r,getPlaceholder:g})),_=n.createElement(n.Fragment,null,x,b,w,a&&n.createElement("canvas",{id:y+"webglcanvas",ref:a,className:l(te,"webglcanvas"),"aria-label":(null==c?void 0:c.alt)||"",role:"presentation","data-testid":X})),R=u?n.createElement(V,t()({id:"bgMedia_"+y},u),_):n.createElement("div",{id:"bgMedia_"+y,"data-motion-part":"BG_MEDIA",className:Q},_),C=d&&n.createElement(K,d);return n.createElement("div",{id:W+"_"+y,"data-hook":W,"data-motion-part":"BG_LAYER",className:l(z,f,{[q]:o})},h&&n.createElement("div",{"data-testid":G,className:l(Z,Y)}),m?n.createElement("div",{"data-testid":H,className:ne},R,C):n.createElement(n.Fragment,null,R,C))};const ie=y()?n.useLayoutEffect:n.useEffect;var se={root:"video-box"},ue="oYv3_8",ce="XV8dK6",de="F9nckB",le="wmoHxw",me="Iiblgf";const fe=13,he=27,pe=["Spacebar"," "],ge=["Enter"];function ve(e){return t=>{t.keyCode===e&&(t.preventDefault(),t.stopPropagation(),t.currentTarget.click())}}ve(32),ve(fe),ve(he);var ye={init:function({gl:e,plane:t,effects:n,dimensions:r,noSource:a}){const o=function(e,t,n,r=!1){const a=r?null:{texture:Ie(e).texture,buffer:null};a&&(e.bindTexture(e.TEXTURE_2D,a.texture),e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0));const o=function(e,t,n=!1){return t.reduce(((e,t)=>{const{attributes:n=[],uniforms:r=[],textures:a=[],varying:o={}}=t,i=n=>Object.keys(t[n]||{}).forEach((r=>{"constant"===r||"main"===r||"source"===r?e[n][r]+=t[n][r]+"\n":e[n][r]={...e[n][r],...t[n][r]}}));return i("vertex"),i("fragment"),n.forEach((t=>{e.attributes.some((e=>{if(e.name===t.name)return Object.assign(e,t),!0}))||e.attributes.push(t)})),e.attributes.forEach((t=>{if(t.extends){if(!e.attributes.some((e=>{if(e.name===t.extends)return Object.assign(t,e,{name:t.name}),!0})))throw new Error(`Could not find attribute ${t.extends} to extend`)}})),e.uniforms.push(...r),e.textures.push(...a),Object.assign(e.vertex.varying,o),Object.assign(e.fragment.varying,o),e}),function(e,t){const n=t?[]:[{name:"u_source",type:"i",data:[0]}],r=[{name:"a_position",data:new Float32Array(Te({xEnd:2,yEnd:2,factor:1},e)),size:2,type:"FLOAT"}];t||r.push({name:"a_texCoord",data:new Float32Array(Te({xEnd:1,yEnd:1,factor:0},e)),size:2,type:"FLOAT"});return{vertex:{uniform:{},attribute:{},varying:{},constant:"",main:""},fragment:{uniform:{},varying:{},constant:"",main:"",source:""},attributes:r,uniforms:n,textures:[]}}(e,n))}(t,n,r),i=Se(o.vertex,r?Ee:xe),s=Se(o.fragment,r?be:we),{program:u,vertexShader:c,fragmentShader:d,error:l,type:m}=function(e,t,n){const r=Ae(e,e.VERTEX_SHADER,t),a=Ae(e,e.FRAGMENT_SHADER,n);if(r.error)return r;if(a.error)return a;return function(e,t,n){const r=e.createProgram();e.attachShader(r,t),e.attachShader(r,n),e.linkProgram(r);const a=e.getProgramParameter(r,e.LINK_STATUS);if(a)return{program:r,vertexShader:t,fragmentShader:n};const o={error:e.getProgramInfoLog(r),type:"program"};return e.deleteProgram(r),o}(e,r,a)}(e,i,s);if(l)throw new Error(`${m} error:: ${l}\n${m===Re.fragment?s:i}`);let f,h;try{f=e.getExtension("OES_vertex_array_object"),h=f.createVertexArrayOES(),f.bindVertexArrayOES(h)}catch(e){}const p=function(e,t,n){return(n||[]).map((n=>{const{location:r,buffer:a}=function(e,t,n,r){const a=e.getAttribLocation(t,n),o=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,r,e.STATIC_DRAW),{location:a,buffer:o}}(e,t,n.name,n.data);return{name:n.name,location:r,buffer:a,type:n.type,size:n.size}}))}(e,u,o.attributes);h&&(Pe(e,p),f.bindVertexArrayOES(null));const g=function(e,t,n){return(n||[]).map((n=>({location:e.getUniformLocation(t,n.name),size:n.size||n.data.length,type:n.type,data:n.data})))}(e,u,o.uniforms);return{extensions:{vao:f},program:u,vertexShader:c,fragmentShader:d,source:a,attributes:p,uniforms:g,textures:o.textures,vao:h}}(e,t,n,a);return{gl:e,data:o,dimensions:r||{}}},draw:function(e,t={},n,r,a){const{program:o,source:i,attributes:s,uniforms:u,textures:c,extensions:d,vao:l}=r,{xSegments:m=1,ySegments:f=1}=t;n&&i&&i.texture&&(e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n));e.useProgram(o),l?d.vao.bindVertexArrayOES(l):Pe(e,s);!function(e,t){(t||[]).forEach((t=>{let{size:n,type:r,location:a,data:o}=t;"i"===r&&(o=new Int32Array(o)),e[`uniform${n}${r}v`](a,o)}))}(e,u);let h=e.TEXTURE0;i&&(e.activeTexture(h),e.bindTexture(e.TEXTURE_2D,i.texture),h=e.TEXTURE1);if(c)for(let t=0;t<c.length;t++){e.activeTexture(h+t);const n=c[t];e.bindTexture(e.TEXTURE_2D,n.texture),n.update&&e.texImage2D(e.TEXTURE_2D,0,e[n.format],e[n.format],e.UNSIGNED_BYTE,n.data)}e.drawArrays(e.TRIANGLES,0,6*m*f)},destroy:function(e,t){const{program:n,vertexShader:r,fragmentShader:a,source:o,attributes:i,extensions:s,vao:u}=t;(i||[]).forEach((t=>e.deleteBuffer(t.buffer))),u&&s.vao.deleteVertexArrayOES(u);o&&o.texture&&e.deleteTexture(o.texture);e.deleteProgram(n),e.deleteShader(r),e.deleteShader(a)},resize:function(e,t){const n=e.canvas,{width:r,height:a}=t||{};let o,i;r&&a?(o=r,i=a):(o=Math.floor(1*n.clientWidth),i=Math.floor(1*n.clientHeight));n.width===o&&n.height===i||(n.width=o,n.height=i);e.viewport(0,0,e.drawingBufferWidth,e.drawingBufferHeight)},getWebGLContext:function(e){let t;const n={preserveDrawingBuffer:!1,antialias:!1,depth:!1,stencil:!1};if(t=e.getContext("webgl",n),t)Ce=!0;else{if(Ce)return null;t=e.getContext("experimental-webgl",n)}return t},createTexture:Ie};const Ee=({uniform:e="",attribute:t="",varying:n="",constant:r="",main:a=""})=>`\nprecision highp float;\n${e}\n${t}\nattribute vec2 a_position;\n${n}\n\nconst vec3 lumcoeff = vec3(0.2125, 0.7154, 0.0721);\n${r}\nvoid main() {\n    ${a}\n    gl_Position = vec4(a_position.xy, 0.0, 1.0);\n}`,xe=({uniform:e="",attribute:t="",varying:n="",constant:r="",main:a=""})=>`\nprecision highp float;\n${e}\n${t}\nattribute vec2 a_texCoord;\nattribute vec2 a_position;\n${n}\nvarying vec2 v_texCoord;\n\nconst vec3 lumcoeff = vec3(0.2125, 0.7154, 0.0721);\n${r}\nvoid main() {\n    v_texCoord = a_texCoord;\n    ${a}\n    gl_Position = vec4(a_position.xy, 0.0, 1.0);\n}`,be=({uniform:e="",varying:t="",constant:n="",main:r="",source:a=""})=>`\nprecision highp float;\n${t}\n${e}\n\nconst vec3 lumcoeff = vec3(0.2125, 0.7154, 0.0721);\n${n}\nvoid main() {\n    ${a}\n    vec3 color = vec3(0.0);\n    float alpha = 1.0;\n    ${r}\n    gl_FragColor = vec4(color, 1.0) * alpha;\n}`,we=({uniform:e="",varying:t="",constant:n="",main:r="",source:a=""})=>`\nprecision highp float;\n${t}\nvarying vec2 v_texCoord;\n${e}\nuniform sampler2D u_source;\n\nconst vec3 lumcoeff = vec3(0.2125, 0.7154, 0.0721);\n${n}\nvoid main() {\n    vec2 sourceCoord = v_texCoord;\n    ${a}\n    vec4 pixel = texture2D(u_source, sourceCoord);\n    vec3 color = pixel.rgb;\n    float alpha = pixel.a;\n    ${r}\n    gl_FragColor = vec4(color, 1.0) * alpha;\n}`,_e={stretch:"CLAMP_TO_EDGE",repeat:"REPEAT",mirror:"MIRRORED_REPEAT"},Re={vertex:"VERTEX",fragment:"FRAGMENT"};let Ce=!1;function Te({xEnd:e,yEnd:t,factor:n},r={}){const{xSegments:a=1,ySegments:o=1}=r,i=[];for(let r=0;r<a;r++)for(let s=0;s<o;s++)i.push(e*r/a-n,t*s/o-n),i.push(e*r/a-n,t*(s+1)/o-n),i.push(e*(r+1)/a-n,t*s/o-n),i.push(e*(r+1)/a-n,t*s/o-n),i.push(e*r/a-n,t*(s+1)/o-n),i.push(e*(r+1)/a-n,t*(s+1)/o-n);return i}function Se(e,t){return t(Object.entries(e).reduce(((e,[t,n])=>(["uniform","attribute","varying"].includes(t)?e[t]=Object.entries(n).reduce(((e,[n,r])=>e+`${t} ${r} ${n};\n`),""):e[t]=n,e)),{}))}function Ae(e,t,n){const r=e.createShader(t);e.shaderSource(r,n),e.compileShader(r);if(e.getShaderParameter(r,e.COMPILE_STATUS))return r;const a={error:e.getShaderInfoLog(r),type:t===e.VERTEX_SHADER?Re.vertex:Re.fragment};return e.deleteShader(r),a}function Ie(e,{width:t=1,height:n=1,data:r=null,format:a="RGBA",wrap:o="stretch"}={}){const i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e[Me(o.x||o)]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e[Me(o.y||o)]),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),r?e.texImage2D(e.TEXTURE_2D,0,e[a],e[a],e.UNSIGNED_BYTE,r):e.texImage2D(e.TEXTURE_2D,0,e[a],t,n,0,e[a],e.UNSIGNED_BYTE,null),{texture:i,width:t,height:n,format:a}}function Pe(e,t){(t||[]).forEach((t=>{const{location:n,buffer:r,size:a,type:o}=t;e.enableVertexAttribArray(n),e.bindBuffer(e.ARRAY_BUFFER,r),e.vertexAttribPointer(n,a,e[o],!1,0,0)}))}function Me(e){return _e[e]||_e.stretch}class Le{constructor(e){if(!e||!e.target)throw new Error("A target canvas was not provided");if(Le.preventContextCreation)throw new Error("Context creation is prevented");this._contextCreationError=function(){Le.preventContextCreation=!0,e&&e.onContextCreationError&&e.onContextCreationError.call(this,e)},e.target.addEventListener("webglcontextcreationerror",this._contextCreationError,!1);if(!this.init(e))throw new Error("Could not create context");this._restoreContext=t=>{t&&t.preventDefault(),this.config.target.removeEventListener("webglcontextrestored",this._restoreContext,!0);return!!this.init()&&(this._source&&this.setSource(this._source),delete this._source,e&&e.onContextRestored&&e.onContextRestored.call(this,e),!0)},this._loseContext=t=>{t.preventDefault(),this.gl&&this.gl.isContextLost()&&(this.lostContext=!0,this.config.target.addEventListener("webglcontextrestored",this._restoreContext,!0),this.destroy(!0),e&&e.onContextLost&&e.onContextLost.call(this,e))},this.config.target.addEventListener("webglcontextlost",this._loseContext,!0)}init(e){e=e||this.config;let{target:t,plane:n,effects:r,ticker:a,noSource:o}=e;if(Le.preventContextCreation)return!1;this.lostContext=!1;let i=ye.getWebGLContext(t);if(!i)return!1;if(i.isContextLost()){if(!this.restoreContext())return!1;if(i=ye.getWebGLContext(this.config.target),!i)return!1}const{x:s=1,y:u=1}=n&&n.segments?"object"==typeof n.segments?n.segments:{x:n.segments,y:n.segments}:{};this.plane={xSegments:s,ySegments:u};const{data:c}=ye.init({gl:i,plane:this.plane,effects:r,dimensions:this.dimensions,noSource:o});return this.gl=i,this.data=c,this.config=e,a&&(this.ticker=a,a.add(this)),!0}setSource(e){if(!e)return;if(this.lostContext){if(!this.restoreContext())return}let t,n,r;"[object Object]"===Object.prototype.toString.call(e)?({media:t,width:n,height:r}=e):t=e,n&&r&&(this.dimensions={width:n,height:r}),ye.resize(this.gl,this.dimensions),this._createTextures(),this.media=t}draw(e){if(this.lostContext){if(!this.restoreContext())return}const t=this.config.beforeDraw;t&&!1===t(e)||ye.draw(this.gl,this.plane,this.media,this.data,this.dimensions)}play(e){if(this.config.beforeDraw=e,this.ticker)this.animationFrameId&&this.stop(),this.playing||(this.playing=!0,this.ticker.add(this));else if(!this.animationFrameId){const e=t=>{this.animationFrameId=window.requestAnimationFrame(e),this.draw(t)};this.animationFrameId=window.requestAnimationFrame(e)}}stop(){this.animationFrameId&&(window.cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null),this.playing&&(this.playing=!1,this.ticker.remove(this))}destroy(e){if(this.stop(),this.gl&&this.data&&ye.destroy(this.gl,this.data),e){const e=this.dimensions||{};this._source=this._source||{media:this.media,width:e.width,height:e.height}}else this.config&&(this.config.target.removeEventListener("webglcontextlost",this._loseContext,!0),this.config.target.removeEventListener("webglcontextcreationerror",this._contextCreationError,!1)),this.config=null,this.dimensions=null;this.gl=null,this.data=null,this.media=null}restoreContext(){if(Le.preventContextCreation)return!1;const e=this.config.target,t=this.config.target.cloneNode(!0),n=e.parentNode;return n&&n.replaceChild(t,e),this.config.target=t,e.removeEventListener("webglcontextlost",this._loseContext,!0),e.removeEventListener("webglcontextrestored",this._restoreContext,!0),e.removeEventListener("webglcontextcreationerror",this._contextCreationError,!1),t.addEventListener("webglcontextlost",this._loseContext,!0),t.addEventListener("webglcontextcreationerror",this._contextCreationError,!1),!this.lostContext||this._restoreContext()}_createTextures(){this.data&&this.data.textures.forEach(((e,t)=>{const n=this.data.textures[t];n.texture=ye.createTexture(this.gl,{width:this.dimensions.width,height:this.dimensions.height,format:e.format,data:e.data,wrap:e.wrap}).texture,n.format=e.format,n.update=e.update}))}}var Ne={effects:{brightnessContrast:function({brightness:e=1,contrast:t=1}={}){return{fragment:{uniform:{u_brEnabled:"bool",u_ctEnabled:"bool",u_contrast:"float",u_brightness:"float"},constant:"const vec3 half3 = vec3(0.5);",main:"\n    if (u_brEnabled) {\n        color *= u_brightness;\n    }\n\n    if (u_ctEnabled) {\n        color = (color - half3) * u_contrast + half3;\n    }\n\n    color = clamp(color, 0.0, 1.0);"},get brightness(){return this.uniforms[2].data[0]},set brightness(e){this.uniforms[2].data[0]=parseFloat(Math.max(0,e))},get contrast(){return this.uniforms[3].data[0]},set contrast(e){this.uniforms[3].data[0]=parseFloat(Math.max(0,e))},get brightnessDisabled(){return!this.uniforms[0].data[0]},set brightnessDisabled(e){this.uniforms[0].data[0]=+!e},get contrastDisabled(){return!this.uniforms[1].data[0]},set contrastDisabled(e){this.uniforms[1].data[0]=+!e},uniforms:[{name:"u_brEnabled",type:"i",data:[1]},{name:"u_ctEnabled",type:"i",data:[1]},{name:"u_brightness",type:"f",data:[e]},{name:"u_contrast",type:"f",data:[t]}]}},hueSaturation:function({hue:e=0,saturation:t=1}={}){return{vertex:{uniform:{u_hue:"float",u_saturation:"float"},constant:"\nconst mat3 lummat = mat3(\n    lumcoeff,\n    lumcoeff,\n    lumcoeff\n);\nconst mat3 cosmat = mat3(\n    vec3(0.787, -0.715, -0.072),\n    vec3(-0.213, 0.285, -0.072),\n    vec3(-0.213, -0.715, 0.928)\n);\nconst mat3 sinmat = mat3(\n    vec3(-0.213, -0.715, 0.928),\n    vec3(0.143, 0.140, -0.283),\n    vec3(-0.787, 0.715, 0.072)\n);\nconst mat3 satmat = mat3(\n    vec3(0.787, -0.715, -0.072),\n    vec3(-0.213, 0.285, -0.072),\n    vec3(-0.213, -0.715, 0.928)\n);",main:"\n    float angle = (u_hue / 180.0) * 3.14159265358979323846264;\n    v_hueRotation = lummat + cos(angle) * cosmat + sin(angle) * sinmat;\n    v_saturation = lummat + satmat * u_saturation;"},fragment:{uniform:{u_hueEnabled:"bool",u_satEnabled:"bool",u_hue:"float",u_saturation:"float"},main:"\n    if (u_hueEnabled) {\n        color = vec3(\n            dot(color, v_hueRotation[0]),\n            dot(color, v_hueRotation[1]),\n            dot(color, v_hueRotation[2])\n        );\n    }\n\n    if (u_satEnabled) {\n        color = vec3(\n            dot(color, v_saturation[0]),\n            dot(color, v_saturation[1]),\n            dot(color, v_saturation[2])\n        );\n    }\n\n    color = clamp(color, 0.0, 1.0);"},varying:{v_hueRotation:"mat3",v_saturation:"mat3"},get hue(){return this.uniforms[2].data[0]},set hue(e){this.uniforms[2].data[0]=parseFloat(e)},get saturation(){return this.uniforms[3].data[0]},set saturation(e){this.uniforms[3].data[0]=parseFloat(Math.max(0,e))},get hueDisabled(){return!this.uniforms[0].data[0]},set hueDisabled(e){this.uniforms[0].data[0]=+!e},get saturationDisabled(){return!this.uniforms[1].data[0]},set saturationDisabled(e){this.uniforms[1].data[0]=+!e},uniforms:[{name:"u_hueEnabled",type:"i",data:[1]},{name:"u_satEnabled",type:"i",data:[1]},{name:"u_hue",type:"f",data:[e]},{name:"u_saturation",type:"f",data:[t]}]}},duotone:function({dark:e=[.7411764706,.0431372549,.568627451,1],light:t=[.9882352941,.7333333333,.05098039216,1]}={}){return{fragment:{uniform:{u_duotoneEnabled:"bool",u_light:"vec4",u_dark:"vec4"},main:"\n    if (u_duotoneEnabled) {\n        vec3 gray = vec3(dot(lumcoeff, color));\n        color = mix(u_dark.rgb, u_light.rgb, gray);\n    }"},get light(){return this.uniforms[1].data.slice(0)},set light(e){e.forEach(((e,t)=>{Number.isNaN(e)||(this.uniforms[1].data[t]=e)}))},get dark(){return this.uniforms[2].data.slice(0)},set dark(e){e.forEach(((e,t)=>{Number.isNaN(e)||(this.uniforms[2].data[t]=e)}))},get disabled(){return!this.uniforms[0].data[0]},set disabled(e){this.uniforms[0].data[0]=+!e},uniforms:[{name:"u_duotoneEnabled",type:"i",data:[1]},{name:"u_light",type:"f",data:t},{name:"u_dark",type:"f",data:e}]}},transparentVideo:function(){return{vertex:{uniform:{u_texOffset:"vec2"},main:"v_texAlphaCoord = v_texCoord + u_texOffset;"},fragment:{uniform:{u_tvEnabled:"bool"},main:"\n    if (u_tvEnabled) {\n        alpha *= dot(lumcoeff, texture2D(u_source, v_texAlphaCoord).rgb);\n\n        // transform alpha values from sRGB source to linearRGB - this cleans up the rim from the result\n        float linear;\n        if (alpha <= 0.04045) {\n            linear = alpha / 12.92;\n        }\n        else {\n            linear = pow((alpha + 0.055) / 1.055, 2.4);\n        }\n\n        alpha = linear;\n\n        if (alpha < 0.04) {\n            alpha = 0.0;\n        }\n        else if (alpha > 0.96) {\n            alpha = 1.0;\n        }\n    }"},get disabled(){return!this.uniforms[0].data[0]},set disabled(e){this.uniforms[0].data[0]=+!e},varying:{v_texAlphaCoord:"vec2"},uniforms:[{name:"u_tvEnabled",type:"i",data:[1]},{name:"u_texOffset",type:"f",data:[0,-.5]}],attributes:[{name:"a_texCoord",data:new Float32Array([0,.5,0,1,1,.5,1,.5,0,1,1,1]),size:2,type:"FLOAT"}]}}},Kampos:Le},De=a(67740);const{Kampos:ke,effects:Oe}=Ne;ke.prototype.getRequestFrame=function(){return"requestVideoFrameCallback"in HTMLVideoElement.prototype?e=>this.media.requestVideoFrameCallback(e):window.requestAnimationFrame},ke.prototype.play=function(){if(!this.animationFrameId){const e=this.getRequestFrame(),t=()=>{const n=this.media;this.animationFrameId=e(t),n&&n.readyState>=n.HAVE_CURRENT_DATA&&(!n.paused&&!n.ended||this._needsRedraw)&&(this._needsRedraw=!1,this.draw())};this.animationFrameId=e(t)}};function Fe(e){const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16)/255,parseInt(t[2],16)/255,parseInt(t[3],16)/255,1]:e}const Be=function(e){void 0===e&&(e={});const t=[Oe.transparentVideo()],n="brightness"in e,r="contrast"in e;if(n||r){const a=Oe.brightnessContrast();n&&(a.brightness=e.brightness),r&&(a.contrast=e.contrast),t.push(a)}if(e.duotoneDark&&e.duotoneLight){const n=Oe.duotone();n.dark=Fe(e.duotoneDark),n.light=Fe(e.duotoneLight),t.push(n)}const a="hue"in e,o="saturation"in e;if(a||o){const n=Oe.hueSaturation();a&&(n.hue=e.hue),o&&(n.saturation=e.saturation),t.push(n)}return t},Ve=e=>e.readyState>=e.HAVE_CURRENT_DATA,$e={count:0,set:new Set,add(e){return!!$e.set.has(e)||$e.set.size<8&&($e.set.add(e),$e.count=$e.set.size,!0)},remove(e){$e.set.delete(e),$e.count=$e.set.size}};const Ue=!(!y()||window.CSS&&window.CSS.supports("(mask-repeat: no-repeat) or (-webkit-mask-repeat: no-repeat)")),je=y()&&De.w1(window);var Ke=e=>{var r;const{id:a,className:o,customClassNames:i=[],translations:s,mediaControls:u,containerRootClassName:c,compRef:d,fillLayers:m,reducedMotion:f=!1,isMobileView:h,audioEnabled:p,hasAudio:g,hasAudioRollIn:v,muted:E,autoplay:b,canReplay:w,hasMask:_,animatePoster:R,filterEffect:C,isTransparent:T=!1,alt:S,updateState:A,onPlay:I,onPause:P,onEnded:M,onProgress:L,getPlaceholder:N,shouldShowTransparentVideoPosterOnStop:D}=e,k=n.useRef(null),O=n.useRef(null),F=n.useRef(null),B=n.useRef(null),V=n.useRef(null),$=n.useRef(null),U=n.createRef(),[j,K]=n.useState(f);n.useEffect((()=>{K(f)}),[f]);const W=b&&!j,G=j||e.hasClick,H=j||e.canClickPause,X=!j&&e.hasRollIn,z=!j&&e.canRollPause,q=n.useCallback((e=>{var t,n;if(!A)return;const r="on"!==(null==(t=k.current)?void 0:t.dataset.audio),a=+((null==(n=k.current)?void 0:n.dataset.volume)||1),o=e||{paused:!0,currentTime:0,duration:0,volume:a,muted:r};A({isPlaying:!o.paused,currentTime:o.currentTime||0,duration:o.duration||0,volume:100*a,isMuted:r,shouldPlay:b}),e&&(e.volume=a)}),[b,A]),[Y,J]=n.useState(!T||!je),[Q,Z]=n.useState(!!T&&!Y),ee=!(!_||!Ue),te=n.useMemo((()=>Y&&!Q),[Y,Q]),ne=n.useRef(null);T&&Y&&!ne.current&&(ne.current=function(e){let{filterEffect:t,playerRef:n,videoRef:r,canvasRef:a,contextRef:o,kampos:i,setCanPlayTV:s}=e,u=!1,c=!1;function d(){r.current&&n.current&&(r.current.removeEventListener("seeked",d),n.current.dataset.showCanvas="",c=!0)}const l={initKampos(){try{i.current=new ke({target:a.current,effects:Be(t||{}),onContextLost:()=>{const e=i.current._source&&i.current._source.media;e&&(e.ended||e.paused)&&(i.current._needsRedraw=!0),this.stopKampos(),u&&this.playKampos()}}),i.current.hasContext=!0}catch(e){return $e.remove(o),s(!1),void(c&&l.showPoster())}if(!r.current)return;const e=()=>{var t;r.current&&(i.current.setSource({width:(t=r.current)&&t.videoWidth||0,height:t&&t.videoHeight/2||0,media:t}),l.playKampos(),r.current.removeEventListener("loadeddata",e,!1))};Ve(r.current)?e():r.current.addEventListener("loadeddata",e,!1)},playKampos(){if(!n.current||!a.current)return;let e;e=i.current?i.current.hasContext||$e.add(o):!ke.preventContextCreation&&$e.add(o),e?i.current&&i.current.config?(i.current.lostContext&&i.current.restoreContext(),i.current.hasContext=!0,i.current.play(),!c&&i.current.media&&Ve(i.current.media)&&"playing"in n.current.dataset&&l.removePoster()):l.initKampos():c&&l.showPoster()},stopKampos(){$e.remove(o),i.current.hasContext=!1,i.current.stop()},killKampos(){var e;i.current&&(l.stopKampos(),i.current.destroy()),null==(e=r.current)||e.removeEventListener("seeked",d)},removePoster(){const e=r.current,t=n.current;!c&&t&&e&&i.current&&((e.paused||e.ended||i.current._needsRedraw)&&(i.current._needsRedraw=!1,i.current.draw()),e.addEventListener("seeked",d),e.currentTime=0)},showPoster(){n.current&&r.current&&(delete n.current.dataset.showCanvas,c=!1)},onViewEnter(){u=!0,l.playKampos()},onViewLeave(){u=!1,i.current&&i.current.hasContext&&l.stopKampos()}};return l}({filterEffect:C,playerRef:k,videoRef:O,canvasRef:F,contextRef:U,kampos:$,setCanPlayTV:J}));const re=n.useRef(null);function ae(){const e={play:[],pause:[],ended:[],timeupdate:[]};if(A){const t=e=>A({isPlaying:!e.target.paused,duration:e.target.duration}),n=e=>A({currentTime:e.target.currentTime});e.loadeddata=[e=>{q(e.target)}],e.play.push(t),e.pause.push(t),e.ended.push(t),e.timeupdate.push(n)}return T&&ne.current&&e.play.push(ne.current.removePoster),I&&e.play.push((()=>I({type:"onPlay"}))),P&&e.pause.push((()=>P({type:"onPause"}))),M&&e.ended.push((()=>M({type:"onEnded"}))),L&&e.timeupdate.push((()=>L({type:"onProgress"}))),e}let ce=!1;re.current||(re.current=ae(),ce=!0),n.useEffect((()=>{ce||(re.current=ae())}),[I,P,M,L,T,q,A]);const fe=p&&g,he=n.useCallback((()=>{var e;D&&(null==(e=ne.current)||e.showPoster())}),[D]),{videoAPI:ve,onClick:ye,onMouseEnter:Ee,onMouseLeave:xe,onMouseMove:be,onKeyDown:we,mediaHandler:_e,setAudioContext:Re,MEDIA_EVENTS:Ce}=n.useMemo((()=>function(e){var t;let n,{playerRef:r,videoRef:a,playButtonRef:o,audioRef:i,isMobileView:s,autoplay:u,hasAudio:c,hasClick:d,hasRollIn:l,hasAudioRollIn:m,canClickPause:f,canRollPause:h,canReplay:p,extraMediaHandlers:g={},updateState:v=(()=>{}),onStop:E}=e,x=+((null==(t=r.current)?void 0:t.dataset.volume)||1);function b(e){if(!r.current||!a.current)return;const t="boolean"==typeof e?e:!a.current.muted;S=!t,t?w.mute():w.unmute()}const w={setVolume(e){x=e,a.current&&(a.current.volume=x),r.current&&(r.current.dataset.volume=x.toString())},play(e){r.current&&a.current&&(e&&(r.current.dataset.playing="",v({shouldPlay:!0})),o.current&&o.current.setAttribute("aria-pressed","true"),a.current.play(),A=!0)},pause(){r.current&&a.current&&(delete r.current.dataset.playing,o.current&&o.current.setAttribute("aria-pressed","false"),a.current.pause(),v({shouldPlay:!1}))},load:()=>{var e;return null==(e=a.current)?void 0:e.load()},stop(){r.current&&a.current&&(delete r.current.dataset.playing,o.current&&o.current.setAttribute("aria-pressed","false"),E&&E(),a.current.pause(),a.current.currentTime=0,v({shouldPlay:!1}))},togglePlay(){a.current&&(a.current.paused?w.play(!0):w.pause())},mute(){r.current&&a.current&&(a.current.muted=!0,r.current.dataset.audio="off",i.current&&i.current.setAttribute("aria-pressed","true"),v({isMuted:!0}))},unmute(e){if(!r.current||!a.current)return;const t=r.current,n=a.current;e?D(n):n.muted=!1,t.dataset.audio="on",i.current&&i.current.setAttribute("aria-pressed","false"),v({isMuted:!1})}};let _,R,C,T=!1,S=c,A=u||!d;const I={handleEvent(e){const t=e.type,n=r.current;"loadeddata"===t&&n&&(n.dataset.canPlay=""),"ended"===t&&n&&(p||(T=!0,n.dataset.stop=""),delete n.dataset.playing),g[t]&&g[t].length&&g[t].forEach((t=>t(e)))}},P=e=>{n&&n.resume();const t=r.current,o=a.current,s=i.current;t&&o&&!T&&(c&&s&&(L(t),s.contains(e.target))?b():o.paused?w.play(!0):f&&w.pause())},M=e=>{n&&n.resume();const t=r.current,o=a.current,s=i.current;if(!t||!o||T)return;const m=!u&&!t.dataset.touched,p="on"===t.dataset.touched;c&&(L(t),s&&s.contains(e.target))?b():((m||p)&&(o.paused?w.play(!0):(f||h)&&w.pause()),(d||l)&&(clearTimeout(C),t.dataset.touched="on",C=window.setTimeout((()=>t.dataset.touched="off"),1400)))},L=e=>{e.dataset.showAudio="",clearTimeout(R),R=window.setTimeout((()=>{delete e.dataset.showAudio}),2e3)},N=e=>{clearTimeout(R),delete e.dataset.showAudio},D=e=>{e.volume=0,e.muted=!1;let t=0;window.clearInterval(_),_=window.setInterval((()=>{t+=.2,t>=x?(e.volume=x,window.clearInterval(_)):e.volume=t}),200)},k=e=>{e.volume=x;let t=1;window.clearInterval(_),_=window.setInterval((()=>{t-=.2,t<=0?(e.volume=0,e.muted=!0,window.clearInterval(_)):e.volume=t}),200)},O=y()&&"ontouchend"in window&&s,F=s?void 0:e=>{if(![...pe,...ge].includes(e.key))return;e.preventDefault();const t=r.current,n=a.current,o=i.current;t&&n&&!T&&(o&&o.contains(e.target)?b():w.togglePlay())};let B;O?(c||d||l)&&(B=M):(c||d)&&(B=P);const V=!O&&(c||l||d)?()=>{const e=r.current,t=a.current;if(e&&t&&!T&&(l?w.play():d&&(e.dataset.rollIn=""),c&&A)){L(e);const r=!n||["running","interrupted"].includes(n.state);S&&r&&(m||l)&&t.muted&&w.unmute(!0)}}:void 0;return{videoAPI:w,onClick:B,onMouseEnter:V,onMouseLeave:!O&&(c||h||d)?()=>{const e=r.current,t=a.current;e&&t&&(h?t.pause():d&&delete e.dataset.rollIn,c&&(N(e),m&&!t.muted&&k(t)))}:void 0,onMouseMove:!O&&c?()=>{const e=r.current;e&&c&&A&&L(e)}:void 0,onKeyDown:F,mediaHandler:I,setAudioContext:function(){const e=window.AudioContext||window.webkitAudioContext;y()&&e&&a.current&&(n=new e)},MEDIA_EVENTS:new Set([...Object.keys(g),"loadeddata","ended"])}}({playerRef:k,videoRef:O,playButtonRef:B,audioRef:V,isMobileView:h,autoplay:W,hasAudio:fe,hasClick:G,hasRollIn:X,hasAudioRollIn:v,canClickPause:H,canRollPause:z,canReplay:w,extraMediaHandlers:re.current||{},updateState:A,onStop:he})),[h,W,G,X,v,H,z,w,A,fe,he]);return ie((()=>{var e;if(te&&k.current&&(V.current||(V.current=k.current.querySelector("[data-audio-mute]"))),Z(ee),null!=m&&null!=(e=m.video)&&null!=(e=e.videoInfo)&&e.isVideoDataExists||!k.current||delete k.current.dataset.showCanvas,!(ee||T&&!Y)&&(T||fe||G)){var t,n;const e=function(e){let{playerRef:t,videoRef:n,onViewEnter:r,onViewLeave:a}=e;if(!y())return;const o={visible:!window.document.hidden,intersecting:!1},i=()=>{n.current&&t.current&&"playing"in t.current.dataset&&(o.visible=!window.document.hidden,o.visible&&o.intersecting?n.current.play():n.current.pause())};window.document.addEventListener("visibilitychange",i);let s=null;return t.current&&"function"==typeof window.IntersectionObserver&&(s=new window.IntersectionObserver((e=>{const i=t.current,s=n.current;s&&i&&e.forEach((e=>{s&&e.target===i&&(o.intersecting=e.isIntersecting,o.visible&&o.intersecting?(null==r||r(),"playing"in i.dataset&&s.src&&s.play()):(null==a||a(),s.pause()))}))})),s.observe(t.current)),function(){window.document.removeEventListener("visibilitychange",i),s&&(s.disconnect(),s=null)}}({playerRef:k,videoRef:O,onViewEnter:null==(t=ne.current)?void 0:t.onViewEnter,onViewLeave:null==(n=ne.current)?void 0:n.onViewLeave});return function(){var t;null==e||e(),null==(t=ne.current)||t.killKampos()}}}),[T,Y,ne.current,fe]),n.useEffect((()=>{if(T&&!Y)return;const e=O.current,t=new Set(Array.from(Ce).concat(Object.keys(re.current||{}).filter((e=>re.current&&re.current[e]&&re.current[e].length))));return t.forEach((t=>{e&&!ee&&("loadeddata"===t&&e.readyState>=e.HAVE_CURRENT_DATA?(_e.handleEvent({type:t}),window.setTimeout((()=>q(O.current)),200)):e.addEventListener(t,_e))})),Re&&!ee&&Re(),()=>{t.forEach((t=>{e&&e.removeEventListener(t,_e)}))}}),[T,Y,Re,_e,Ce,ee,A,q,null==m||null==(r=m.video)||null==(r=r.videoInfo)?void 0:r.isVideoDataExists]),n.useImperativeHandle(d,(()=>ve)),n.useEffect((()=>{const e=k.current;!W&&e&&e.removeAttribute("data-playing")}),[W]),n.createElement("div",t()({id:a},(e=>Object.entries(e).reduce(((e,[t,n])=>(t.includes("data-")&&(e[t]=n),e)),{}))(e),{ref:k,className:l(ue,c,o,x(se.root,...i)),onClick:te?ye:void 0,onMouseEnter:te?Ee:void 0,onMouseLeave:te?xe:void 0,onMouseMove:te?be:void 0,onKeyDown:te?we:void 0,"data-audio":E?"off":"on","data-has-play":te&&(G||X)?"":void 0,"data-no-audio":te&&fe?void 0:"","data-playing":te&&W?"":void 0,"data-stop":te?void 0:"","data-animate-poster":T?R:void 0,"data-has-alpha":T?"true":void 0}),n.createElement("div",{ref:B,className:l(de,{[me]:T}),tabIndex:0,role:"button","aria-label":S+" "+s.ariaLabel,"aria-pressed":W?"true":"false"},n.createElement(oe,t()({},m,{getPlaceholder:N,reducedMotion:j,videoRef:O,canvasRef:T?F:void 0,extraClass:le}))),te?u:null)};const We=(e,r)=>{const a=n.createElement(v,t()({},e.responsiveContainerProps,{extraRootClass:ce}),e.children);return n.createElement(Ke,t()({},e,{compRef:r,mediaControls:a}))};const Ge=e=>e.replace(/([A-Z])/g,(e=>"-"+e.toLowerCase()));var He;const Xe={MediaPlayer_videoBoxResponsive:{component:n.forwardRef(We),controller:(He=e=>{let{stateValues:t,mapperProps:n}=e;const{reducedMotion:r}=t;return{...n,reducedMotion:r}},{useComponentProps:(e,t,n)=>{const r=(e=>({...e,updateStyles:t=>{const n=Object.entries(t).reduce(((e,t)=>{let[n,r]=t;return{...e,[(a=n,a.startsWith("--")?n:Ge(n))]:void 0===r?null:r};var a}),{});e.updateStyles(n)}}))(n);return He({mapperProps:e,stateValues:t,controllerUtils:r})}})}}}(),o}()}));
//# sourceMappingURL=https://static.parastorage.com/services/editor-elements-library/dist/thunderbolt/rb_wixui.thunderbolt[MediaPlayer_videoBoxResponsive].3e721276.bundle.min.js.map